---
timestamp: 'Thu Oct 16 2025 15:39:18 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251016_153918.4e7de4b3.md]]'
content_id: 08a29d09cd5cbf36a0a3272f565fd2233fb3b32dcd650e320099e66c97150526
---

# concept: SuggestChord

* **concept**: SuggestChord

* **purpose**: offer users suggestions for suitable chords and progressions based on preferences

* **principle**: a user will select a progression that they would like to apply their preferences to. The user can set their prefered genre, complexity level, and key of the progression as context for chord suggestion. The user can then either generate a whole progression or can generate suggestions for a single chord in the progression.

* **state**:
  * A set of `ProgressionSuggestionPreferences` with
    * A `id` of type `Number`
    * A `preferredGenre` of type `String`, default `Pop`
    * A `complexityLevel` of type `String`, default `Basic`
    * A `key` of type `String`, default `Cmaj`

* **actions**:
  * `initializePreferences(id: Number)`
    * **requires**: `id` does not exist in ProgressionSuggestionPreferences
    * **effect**: creates a new `ProgressionSuggestionPreferences` with the given `id` and default values for `preferredGenre`, `complexityLevel`, and `key`.
  * `setPreferredGenre(id: Number, preferredGenre: String)`
    * **requires**: `id` exists in `ProgressionSuggestionPreferences`, `preferredGenre` is a valid genre
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `id` with the given `genre`.
  * `setComplexityLevel(id: Number, complexityLevel: String)`
    * **requires**: `id` exists in `ProgressionSuggestionPreferences`, `complexityLevel` is a valid complexity level
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `id` with the given `complexityLevel`.
  * `setKey(id: Number, key: String)`
    * **requires**: `id` exists in `ProgressionSuggestionPreferences`, `key` is a valid key
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `id` with the given `key`.
  * `getProgressionPreferences(id: Number): (progressionPreferences: ProgressionSuggestionPreferences)`
    * **effect**: returns the `ProgressionSuggestionPreferences` with the given `id`.
  * `suggestChord(id: Number, chords: (String | null)[], position: Number): (suggestedChords: String[])`
    * **requires**: `id` exists in `ProgressionSuggestionPreferences`, `0 <= position < chords.length`
    * **effect**: returns a list of suggested chords to put in `position` in `chords`, generated by an LLM given the context the `ProgressionSuggestionPreferences` for `id` and the chords before and after it.
  * `suggestProgression(id: Number, length: Number): (chordSequence: String[])`
    * **requires**: `id` exists in `ProgressionSuggestionPreferences`, `length >= 0`
    * **effect**: returns a chord progression of length `length`, generated by an LLM given the context the `ProgressionSuggestionPreferences` for `id`.
