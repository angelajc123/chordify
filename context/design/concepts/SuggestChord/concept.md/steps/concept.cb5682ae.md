---
timestamp: 'Thu Oct 16 2025 15:34:30 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251016_153430.b19a215d.md]]'
content_id: cb5682aedb6afa7d4c8ecb5236aad96fe5cc3b33d568d37926f3a4f2762636d0
---

# concept: SuggestChord

* **concept**: SuggestChord \[Progression]

* **purpose**: offer users suggestions for suitable chords and progressions based on preferences

* **principle**: a user will select a progression that they would like to apply their preferences to. The user can set their prefered genre, complexity level, and key of the progression as context for chord suggestion. The user can then either generate a whole progression or can generate suggestions for a single chord in the progression.

* **state**:
  * A set of `Progressions` with
    * A `preferredGenre` of type `String`, default `Pop`
    * A `complexityLevel` of type `String`, default `Basic`
    * A `key` of type `String`, default `Cmaj`

* **actions**:
  * `initializePreferences(progressionId: Number)`
    * **effect**: creates a new `ProgressionSuggestionPreferences` with the given `progressionId` and default values for `preferredGenre`, `complexityLevel`, and `key`.
  * `setPreferredGenre(progressionId: Number, preferredGenre: String)`
    * **requires**: `progressionId` is a valid progression id, `preferredGenre` is a valid genre
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `progressionId` with the given `genre`.
  * `setComplexityLevel(progressionId: Number, complexityLevel: String)`
    * **requires**: `progressionId` is a valid progression id, `complexityLevel` is a valid complexity level
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `progressionId` with the given `complexityLevel`.
  * `setKey(progressionId: Number, key: String)`
    * **requires**: `progressionId` is a valid progression id, `key` is a valid key
    * **effect**: updates the `ProgressionSuggestionPreferences` with the given `progressionId` with the given `key`.
  * `getProgressionPreferences(progressionId: Number): (progressionPreferences: ProgressionSuggestionPreferences)`
    * **effect**: returns the `ProgressionSuggestionPreferences` with the given `progressionId`.
  * `suggestChord(progressionId: Number, chords: (String | null)[], position: Number): (suggestedChords: String[])`
    * **requires**: `progressionId` is a valid progression id, `0 <= position < chords.length`
    * **effect**: returns a list of suggested chords to put in `position` in `chords`, generated by an LLM given the context the `ProgressionSuggestionPreferences` for `progressionId` and the chords before and after it.
  * `suggestProgression(progressionId: Number, length: Number): (chordSequence: String[])`
    * **requires**: `progressionId` is a valid progression id, `length >= 0`
    * **effect**: returns a chord progression of length `length`, generated by an LLM given the context the `ProgressionSuggestionPreferences` for `progressionId`.
