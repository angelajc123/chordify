---
timestamp: 'Thu Oct 16 2025 15:04:49 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251016_150449.d1dbaa30.md]]'
content_id: 155e57c0b95b4402e7409f0a586d960ccbca8bc543c0d57a8db92beecf49eee6
---

# response:

```text
concept: SuggestChord
  purpose: offer users suggestions for suitable chords to place in any position of a progression.
  principle: when a user selects a slot in a sequence, the system analyzes the context—the units before and after that slot— and generates a list of candidate units that would fit well in that position. If the sequence is empty, the system provides starting units. If the slot is at the end, the system suggests continuations.

  state:
    - Key: String
    - Chords: (String | null)[] // A sequence of Chords where each element is a String (for a set chord) or null (for an empty position).

  actions:
    - setKey(key: String)
      requires: key is a valid key in standard music notation (e.g., "C major", "A minor").
      effect: sets the `Key` state variable to `key`.

    - suggestChord(chords: (String | null)[], position: Number): String[]
      requires: 
        - every element in `chords` is a valid chord in standard music notation (e.g., "Cmaj7", "Am") or `null`.
        - `position` is a valid zero-based index within the `chords` array.
      effect: 
        - Updates the `Chords` state variable with the provided `chords` array.
        - Returns a list of suggested chords (Strings) to put in the specified `position`. These suggestions are generated by an LLM, taking into account the `Key` state and the `chords` array, specifically the chords before and after the `position`.
```
